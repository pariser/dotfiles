// Place your key bindings in this file to override the defaults
[
  /* use escape escape like emacs */
  {
    "key": "escape escape",
    "command": "workbench.action.tasks.runTask",
    "args": "closeSidebarAndPanel"
  },
  // { "key": "escape escape", "command": "workbench.action.closeSidebar" },

  { "key": "escape escape",                "command": "closeReferenceSearch",
    "when": "inReferenceSearchEditor && !config.editor.stablePeek" },
  { "key": "escape escape",                "command": "cancelSelection",
    "when": "editorHasSelection && textInputFocus" },
  { "key": "escape escape",                "command": "removeSecondaryCursors",
    "when": "editorHasMultipleSelections && textInputFocus" },
  { "key": "escape escape",                "command": "notebook.cell.quitEdit",
    "when": "inputFocus && notebookEditorFocused" },
  { "key": "escape escape",                "command": "closeBreakpointWidget",
    "when": "breakpointWidgetVisible && textInputFocus" },
  { "key": "escape escape",                "command": "editor.action.webvieweditor.hideFind",
    "when": "webviewFindWidgetVisible && !editorFocus && activeEditor == 'WebviewEditor'" },
  { "key": "escape escape",                "command": "editor.cancelOperation",
    "when": "cancellableOperation" },
  { "key": "escape escape",                "command": "editor.gotoNextSymbolFromResult.cancel",
    "when": "hasSymbols" },
  { "key": "escape escape",                "command": "settings.action.clearSearchResults",
    "when": "inSettingsSearch" },
  { "key": "escape escape",                "command": "workbench.action.hideComment",
    "when": "commentEditorFocused" },
  { "key": "escape escape",                "command": "closeFindWidget",
    "when": "editorFocus && findWidgetVisible" },
  { "key": "escape escape",                "command": "leaveEditorMessage",
    "when": "messageVisible" },
  { "key": "escape escape",                "command": "leaveSnippet",
    "when": "editorTextFocus && inSnippetMode" },
  { "key": "escape escape",                "command": "closeDirtyDiff",
    "when": "dirtyDiffVisible" },
  { "key": "escape escape",                "command": "closeMarkersNavigation",
    "when": "editorFocus && markersNavigationVisible" },
  { "key": "escape escape",                "command": "closeParameterHints",
    "when": "editorFocus && parameterHintsVisible" },
  { "key": "escape escape",                "command": "hideSuggestWidget",
    "when": "suggestWidgetVisible && textInputFocus" },
  { "key": "escape escape",                "command": "cancelOnTypeRenameInput",
    "when": "editorTextFocus && onTypeRenameInputVisible" },
  { "key": "escape escape",                "command": "cancelRenameInput",
    "when": "editorFocus && renameInputVisible" },
  { "key": "escape escape",                "command": "closeAccessibilityHelp",
    "when": "accessibilityHelpWidgetVisible && editorFocus" },
  { "key": "escape escape",                "command": "closeReplaceInFilesWidget",
    "when": "replaceInputBoxFocus && searchViewletVisible" },
  { "key": "escape escape",                "command": "keybindings.editor.clearSearchResults",
    "when": "inKeybindings && inKeybindingsSearch" },
  { "key": "escape escape",                "command": "list.clear",
    "when": "listFocus && listHasSelectionOrFocus && !inputFocus" },
  { "key": "escape escape",                "command": "notebook.hideFind",
    "when": "notebookEditorFocused && notebookFindWidgetFocused" },
  { "key": "escape escape",                "command": "search.action.cancel",
    "when": "listFocus && searchViewletVisible && !inputFocus" },
  { "key": "escape escape",                "command": "search.action.focusQueryEditorWidget",
    "when": "inSearchEditor" },
  { "key": "escape escape",                "command": "workbench.action.closeQuickOpen",
    "when": "inQuickOpen" },
  { "key": "escape escape",                "command": "workbench.action.hideInterfaceOverview",
    "when": "interfaceOverviewVisible" },
  { "key": "escape escape",                "command": "workbench.action.terminal.clearSelection",
    "when": "terminalFocus && terminalTextSelected && !terminalFindVisible" },
  { "key": "escape escape",                "command": "workbench.action.terminal.hideFind",
    "when": "terminalFindVisible && terminalFocus" },
  { "key": "escape escape",                "command": "workbench.action.terminal.navigationModeExit",
    "when": "accessibilityModeEnabled && terminalA11yTreeFocus" },
  { "key": "escape escape",                "command": "breadcrumbs.selectEditor",
    "when": "breadcrumbsActive && breadcrumbsVisible" },
  { "key": "escape escape",                "command": "editor.closeCallHierarchy",
    "when": "callHierarchyVisible && !config.editor.stablePeek" },
  { "key": "escape escape",                "command": "filesExplorer.cancelCut",
    "when": "explorerResourceCut && explorerViewletVisible && filesExplorerFocus && !inputFocus" },
  { "key": "escape escape",                "command": "closeReferenceSearch",
    "when": "referenceSearchVisible && !config.editor.stablePeek" },
  { "key": "escape escape",                "command": "notifications.hideList",
    "when": "notificationCenterVisible" },
  { "key": "escape escape",                "command": "notifications.hideToasts",
    "when": "notificationToastsVisible" },

  /* get rid of single escape */
  { "key": "escape",                "command": "-closeReferenceSearch",
    "when": "inReferenceSearchEditor && !config.editor.stablePeek" },
  { "key": "escape",                "command": "-cancelSelection",
    "when": "editorHasSelection && textInputFocus" },
  { "key": "escape",                "command": "-removeSecondaryCursors",
    "when": "editorHasMultipleSelections && textInputFocus" },
  { "key": "escape",                "command": "-notebook.cell.quitEdit",
    "when": "inputFocus && notebookEditorFocused" },
  { "key": "escape",                "command": "-closeBreakpointWidget",
    "when": "breakpointWidgetVisible && textInputFocus" },
  { "key": "escape",                "command": "-editor.action.webvieweditor.hideFind",
    "when": "webviewFindWidgetVisible && !editorFocus && activeEditor == 'WebviewEditor'" },
  { "key": "escape",                "command": "-editor.cancelOperation",
    "when": "cancellableOperation" },
  { "key": "escape",                "command": "-editor.gotoNextSymbolFromResult.cancel",
    "when": "hasSymbols" },
  { "key": "escape",                "command": "-settings.action.clearSearchResults",
    "when": "inSettingsSearch" },
  { "key": "escape",                "command": "-workbench.action.hideComment",
    "when": "commentEditorFocused" },
  { "key": "escape",                "command": "-closeFindWidget",
    "when": "editorFocus && findWidgetVisible" },
  { "key": "escape",                "command": "-leaveEditorMessage",
    "when": "messageVisible" },
  { "key": "escape",                "command": "-leaveSnippet",
    "when": "editorTextFocus && inSnippetMode" },
  { "key": "escape",                "command": "-closeDirtyDiff",
    "when": "dirtyDiffVisible" },
  { "key": "escape",                "command": "-closeMarkersNavigation",
    "when": "editorFocus && markersNavigationVisible" },
  { "key": "escape",                "command": "-closeParameterHints",
    "when": "editorFocus && parameterHintsVisible" },
  { "key": "escape",                "command": "-hideSuggestWidget",
    "when": "suggestWidgetVisible && textInputFocus" },
  { "key": "escape",                "command": "-cancelOnTypeRenameInput",
    "when": "editorTextFocus && onTypeRenameInputVisible" },
  { "key": "escape",                "command": "-cancelRenameInput",
    "when": "editorFocus && renameInputVisible" },
  { "key": "escape",                "command": "-closeAccessibilityHelp",
    "when": "accessibilityHelpWidgetVisible && editorFocus" },
  { "key": "escape",                "command": "-closeReplaceInFilesWidget",
    "when": "replaceInputBoxFocus && searchViewletVisible" },
  { "key": "escape",                "command": "-keybindings.editor.clearSearchResults",
    "when": "inKeybindings && inKeybindingsSearch" },
  { "key": "escape",                "command": "-list.clear",
    "when": "listFocus && listHasSelectionOrFocus && !inputFocus" },
  { "key": "escape",                "command": "-notebook.hideFind",
    "when": "notebookEditorFocused && notebookFindWidgetFocused" },
  { "key": "escape",                "command": "-search.action.cancel",
    "when": "listFocus && searchViewletVisible && !inputFocus" },
  { "key": "escape",                "command": "-search.action.focusQueryEditorWidget",
    "when": "inSearchEditor" },
  { "key": "escape",                "command": "-workbench.action.closeQuickOpen",
    "when": "inQuickOpen" },
  { "key": "escape",                "command": "-workbench.action.hideInterfaceOverview",
    "when": "interfaceOverviewVisible" },
  { "key": "escape",                "command": "-workbench.action.terminal.clearSelection",
    "when": "terminalFocus && terminalTextSelected && !terminalFindVisible" },
  { "key": "escape",                "command": "-workbench.action.terminal.hideFind",
    "when": "terminalFindVisible && terminalFocus" },
  { "key": "escape",                "command": "-workbench.action.terminal.navigationModeExit",
    "when": "accessibilityModeEnabled && terminalA11yTreeFocus" },
  { "key": "escape",                "command": "-breadcrumbs.selectEditor",
    "when": "breadcrumbsActive && breadcrumbsVisible" },
  { "key": "escape",                "command": "-editor.closeCallHierarchy",
    "when": "callHierarchyVisible && !config.editor.stablePeek" },
  { "key": "escape",                "command": "-filesExplorer.cancelCut",
    "when": "explorerResourceCut && explorerViewletVisible && filesExplorerFocus && !inputFocus" },
  { "key": "escape",                "command": "-closeReferenceSearch",
    "when": "referenceSearchVisible && !config.editor.stablePeek" },
  { "key": "escape",                "command": "-notifications.hideList",
    "when": "notificationCenterVisible" },
  { "key": "escape",                "command": "-notifications.hideToasts",
    "when": "notificationToastsVisible" },

  /* emacs "meta-x" with escape as "meta" key dies slowest of all */
  {
    "key": "escape x",
    "command": "workbench.action.showCommands"
  },

  /* SPLIT WINDOW */
  {
    "key": "ctrl+x 3",
    "command": "workbench.action.splitEditorRight"
  },
  {
    "key": "ctrl+x 2",
    "command": "workbench.action.splitEditorDown"
  },
  {
    "key": "ctrl+x 0",
    "command": "workbench.action.closeEditorsInGroup"
  },
  {
    "key": "cmd+k w",
    "command": "-workbench.action.closeEditorsInGroup"
  },

  /* CODE FOLDING */
  {
    "key": "cmd+k cmd+0",
    "command": "editor.unfoldAll",
    "when": "editorTextFocus && foldingEnabled"
  },
  {
    "key": "cmd+k cmd+j",
    "command": "-editor.unfoldAll",
    "when": "editorTextFocus && foldingEnabled"
  },

  /* RUN TESTS */
  {
    "key": "shift+cmd+t f",
    "command": "extension.runFileSpecs"
  },
  {
    "key": "shift+cmd+t l",
    "command": "extension.runSpecLine"
  },
  {
    "key": "cmd+l",
    "command": "-extension.runSpecLine"
  },

  /* OPEN IN GITHUB */
  {
    "key": "alt+g o",
    "command": "openInGithub.openInGitHubFile"
  },
  {
    "key": "alt+g b",
    "command": "openInGithub.openInGitHubBlame"
  },

  /* SHOW FILE IN EXPLORER */
  {
    "key": "shift+cmd+\\",
    "command": "-editor.action.jumpToBracket",
    "when": "editorTextFocus"
  },
  {
    "key": "shift+cmd+\\",
    "command": "workbench.files.action.showActiveFileInExplorer"
  },
  {
    "key": "alt+cmd+\\",
    "command": "-workbench.files.action.showActiveFileInExplorer"
  },
  {
    "key": "alt+cmd+p",
    "command": "projectManager.listProjectsNewWindow"
  },
  {
    "key": "alt+cmd+p",
    "command": "-projectManager.listProjects"
  }
]
